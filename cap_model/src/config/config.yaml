# Card Approval Prediction - Configuration

# Data Configuration
data:
  raw_data_path: "data/raw/credit_applications.csv"
  processed_data_path: "data/processed/processed_data.csv"
  test_size: 0.2
  validation_size: 0.1
  random_state: 42

# Feature Engineering
features:
  categorical_features:
    - "employment_status"
    - "housing_type"
    - "education_level"
    - "marital_status"
  
  numerical_features:
    - "age"
    - "annual_income"
    - "credit_score"
    - "employment_years"
    - "debt_to_income_ratio"
    - "num_existing_credit_cards"
    - "total_credit_limit"
  
  target: "approval_status"
  
  # Feature engineering options
  scaling_method: "standard"  # standard, minmax, robust
  encoding_method: "onehot"   # onehot, label, target
  handle_missing: "median"    # median, mean, mode, drop

# Model Configuration
model:
  type: "xgboost"  # logistic, random_forest, xgboost, lightgbm, neural_net
  
  hyperparameters:
    xgboost:
      n_estimators: 100
      max_depth: 6
      learning_rate: 0.1
      subsample: 0.8
      colsample_bytree: 0.8
      gamma: 0
      reg_alpha: 0
      reg_lambda: 1
      
    random_forest:
      n_estimators: 100
      max_depth: 10
      min_samples_split: 2
      min_samples_leaf: 1
      
    logistic_regression:
      C: 1.0
      penalty: "l2"
      solver: "lbfgs"
      max_iter: 1000

# Training Configuration
training:
  cross_validation:
    enabled: true
    n_folds: 5
    stratified: true
  
  class_balance:
    method: "auto"  # auto, smote, undersample, oversample, none
    
  early_stopping:
    enabled: true
    patience: 10
    metric: "auc"

# Evaluation Metrics
evaluation:
  metrics:
    - "accuracy"
    - "precision"
    - "recall"
    - "f1_score"
    - "roc_auc"
  
  threshold:
    optimization_metric: "f1_score"
    default: 0.5

# MLflow Configuration
mlflow:
  tracking_uri: "http://localhost:5000"
  experiment_name: "card-approval-classification"
  enable_autolog: true
  
  # What to log
  log_params: true
  log_metrics: true
  log_model: true
  log_artifacts: true
  
  # Artifacts to save
  save_confusion_matrix: true
  save_roc_curve: true
  save_feature_importance: true
  save_shap_values: true

# Output Configuration
output:
  model_dir: "models/"
  figures_dir: "outputs/figures/"
  reports_dir: "outputs/reports/"
  metrics_dir: "outputs/metrics/"

# Hyperparameter Tuning
hyperparameter_tuning:
  enabled: false
  method: "optuna"  # optuna, grid_search, random_search
  n_trials: 50
  timeout: 3600  # seconds
  
  search_space:
    xgboost:
      n_estimators: [50, 100, 200, 300]
      max_depth: [3, 5, 7, 10]
      learning_rate: [0.01, 0.05, 0.1, 0.3]
      subsample: [0.6, 0.8, 1.0]
      colsample_bytree: [0.6, 0.8, 1.0]

# Reproducibility
seed: 42
